# Task08 - Веб-приложение для управления парикмахерской

## Описание

Веб-приложение для ввода, сохранения в базе данных и вывода информации о мастерах парикмахерской, их графике работы и выполненных работах.

## Структура проекта

```
Task08/
├── data/              # База данных SQLite
│   ├── salon.db       # Файл базы данных (создается автоматически)
│   └── db_init.sql   # SQL-скрипт инициализации базы данных
├── public/            # Корень веб-сайта
│   ├── index.php      # Главная страница - список мастеров
│   ├── master_add.php    # Добавление мастера
│   ├── master_edit.php   # Редактирование мастера
│   ├── master_delete.php # Удаление мастера
│   ├── schedule_list.php  # График работы мастера
│   ├── schedule_add.php   # Добавление часов работы
│   ├── schedule_edit.php  # Редактирование графика
│   ├── schedule_delete.php # Удаление записи графика
│   ├── services_list.php  # Выполненные работы мастера
│   ├── service_add.php    # Добавление выполненной работы
│   ├── service_edit.php   # Редактирование выполненной работы
│   ├── service_delete.php # Удаление выполненной работы
│   └── style.css          # Стили оформления
├── config.php         # Конфигурация и подключение к БД
├── init_db.bat        # Скрипт инициализации базы данных
└── README.md          # Документация
```

## Установка и запуск

### 1. Инициализация базы данных

Запустите скрипт инициализации базы данных:

```bash
init_db.bat
```

Или вручную:

```bash
sqlite3 data\salon.db < data\db_init.sql
```

### 2. Запуск веб-сервера

Находясь в каталоге Task08, запустите встроенный PHP веб-сервер:

```bash
php -S localhost:3000 -t public
```

### 3. Открытие приложения

Откройте в браузере:
- http://localhost:3000/index.php
- или просто http://localhost:3000/

## Функциональность

### Главная страница (index.php)

- Список всех мастеров, отсортированный по фамилии
- Для каждой записи:
  - Кнопка "Редактировать" - открывает форму редактирования
  - Кнопка "Удалить" - открывает форму подтверждения удаления
  - Кнопка "График" - открывает список часов работы мастера
  - Кнопка "Выполненные работы" - открывает список услуг, оказанных мастером
- Кнопка "Добавить" внизу списка для добавления нового мастера

### Управление мастерами

- **Добавление мастера** (master_add.php):
  - Фамилия, имя, отчество
  - Специализация (выпадающий список)

- **Редактирование мастера** (master_edit.php):
  - Изменение всех полей мастера

- **Удаление мастера** (master_delete.php):
  - Подтверждение удаления с отображением данных мастера

### График работы

- **График работы мастера** (schedule_list.php):
  - Список всех часов работы мастера
  - Для каждой записи:
    - Кнопка "Редактировать"
    - Кнопка "Удалить"
  - Кнопка "Добавить часы работы"

- **Добавление часов работы** (schedule_add.php):
  - День недели (Понедельник - Воскресенье)
  - Время начала
  - Время окончания

- **Редактирование графика** (schedule_edit.php):
  - Изменение дня недели и времени работы

- **Удаление записи графика** (schedule_delete.php):
  - Подтверждение удаления с отображением данных графика

### Выполненные работы

- **Выполненные работы мастера** (services_list.php):
  - Список всех услуг, оказанных мастером, с указанием даты и стоимости
  - Для каждой записи:
    - Кнопка "Редактировать"
    - Кнопка "Удалить"
  - Кнопка "Добавить выполненную работу"

- **Добавление выполненной работы** (service_add.php):
  - Название услуги
  - Дата выполнения
  - Стоимость

- **Редактирование выполненной работы** (service_edit.php):
  - Изменение названия услуги, даты и стоимости

- **Удаление выполненной работы** (service_delete.php):
  - Подтверждение удаления с отображением данных работы

## Технические детали

- **База данных**: SQLite
- **PHP**: Используется PDO для работы с базой данных
- **Подготовленные запросы**: Все запросы используют подготовленные запросы для безопасности
- **Альтернативный синтаксис PHP**: Используется шаблонизатор режим без echo
- **Стили**: Современный адаптивный дизайн с градиентным фоном

## Структура базы данных

- **specializations** - специализации мастеров (Парикмахер-стилист, Колорист, Мастер маникюра и т.д.)
- **masters** - мастера (связаны со специализациями)
- **work_schedule** - график работы (связан с мастерами)
- **completed_services** - выполненные работы (связаны с мастерами)

## Требования

- PHP 7.4 или выше
- SQLite3
- Веб-браузер
